import test from './utils.js';

test('conditional parts', t => {
  t.format('[>=100]"A"0;[<=-100]"B"0;"C"0', 6.3, 'C6');
  t.format('[>=100]"A"0;[<=-100]"B"0;"C"0', -6.3, '-C6');
  t.format('[>=100]"A"0;[<=0]"B"0;"C"0', 6.3, 'C6');
  t.format('[>=100]"A"0;[<=0]"B"0;"C"0', -6.3, '-B6');
  t.format('[>=0]"A"0;[<=-100]"B"0;"C"0', 6.3, 'A6');
  t.format('[>=0]"A"0;[<=-100]"B"0;"C"0', -6.3, '-C6');
  t.format('[>=0]"A"0;[<=0]"B"0;"C"0', 6.3, 'A6');
  t.format('[>=0]"A"0;[<=0]"B"0;"C"0', -6.3, '-B6');
  t.format('[>=0]"A"0;[<=-100]"B"0', 6.3, 'A6');
  t.format('[>=100]"A"0;[<=0]"B"0', -6.3, '-B6');
  t.format('[<=-100]"B"0;"C"0', 6.3, 'C6');
  t.format('[<=-100]"B"0;"C"0', -6.3, 'C6');
  t.format('[<=0]"B"0', 6.3, '6.3');
  t.format('[<=0]"B"0', -6.3, '-B6');
  t.format('[=6.3]"B"0', 6.3, 'B6');
  t.format('[=6.3]"B"0', -6.3, '-6.3');
  t.format('[<>6]"B"0', 6.3, 'B6');
  t.format('[<>6]"B"0', -6.3, '-B6');
  t.format('[=6.3]"B"0', 6.3, 'B6');
  t.format('[=6.3]"B"0', -6.3, '-6.3');
  t.format('[>6]"A"0;[<-6]"B"0', 6.3, 'A6');
  t.format('[>6]"A"0;[<-6]"B"0', -6.3, 'B6');
  t.format('[>=100]"A"0;[<=-100]"B"0;"C"0;"D"@', 6.3, 'C6');
  t.format('[>=100]"A"0;[<=-100]"B"0;"C"0;"D"@', -6.3, '-C6');
  t.format('[>=100]"A"-0;[<=-100]"B"-0;"C"-0', 6.3, 'C-6');
  t.format('[>=100]"A"-0;[<=-100]"B"-0;"C"-0', -6.3, '-C-6');
  t.format('[>=100]"A"-#,##0;[<=0]"B"-#,##0;"C"-#,##0', 6.3, 'C-6');
  t.format('[>=100]"A"-#,##0;[<=0]"B"-#,##0;"C"-#,##0', -6.3, '-B-6');
  t.format('[>=0]"A"-0;[<=-100]"B"-0;"C"-0', 6.3, 'A-6');
  t.format('[>=0]"A"-0;[<=-100]"B"-0;"C"-0', -6.3, '-C-6');
  t.format('[>=0]"A"-0;[<=0]"B"-0;"C"-0', 6.3, 'A-6');
  t.format('[>=0]"A"-0;[<=0]"B"-0;"C"-0', -6.3, '-B-6');

  t.format('[>=100]"A"0;[<=-100]"B"0', 6.3, '######');
  t.format('[>=100]"A"0;[<=-100]"B"0', -6.3, '######');
  t.format('[>=0]"A"0;[<=-100]"B"0', -6.3, '######');
  t.format('[>=100]"A"0;[<=0]"B"0', 6.3, '######');
  t.formatInvalid('[>=100]"A"0;[<=-100]"B"0;"C"0;"D"0');
  t.formatInvalid('[>=100]"A"0;[<=-100]"B"0;"C"0;"D"0');
  t.formatInvalid('[<-25]0;[>25]0;0;"foo".#');

  t.end();
});

test('conditional parts vs negative numbers', t => {
  t.format('[<>-6]\\A0', -5, '-A5');
  t.format('[<-4]\\A0', -5, 'A5');
  t.format('[<=-4]\\A0', -5, 'A5');
  t.format('[=-5]\\A0', -5, 'A5');
  t.format('[>-6]\\A0', -5, '-A5');
  t.format('[>=-6]\\A0', -5, '-A5');
  t.format('[<>-5]\\A0', -5, '5');
  t.format('[<-6]\\A0', -5, '5');
  t.format('[<=-6]\\A0', -5, '5');
  t.format('[=-6]\\A0', -5, '-5');
  t.format('[>2]\\A0', -5, '-5');
  t.format('[>=2]\\A0', -5, '-5');

  t.format('[<>-6]\\A0;\\B0', -5, '-A5');
  t.format('[<-4]\\A0;\\B0', -5, 'A5');
  t.format('[<=-4]\\A0;\\B0', -5, 'A5');
  t.format('[=-5]\\A0;\\B0', -5, 'A5');
  t.format('[>-6]\\A0;\\B0', -5, '-A5');
  t.format('[>=-6]\\A0;\\B0', -5, '-A5');
  t.format('[<>-5]\\A0;\\B0', -5, 'B5');
  t.format('[<-6]\\A0;\\B0', -5, 'B5');
  t.format('[<=-6]\\A0;\\B0', -5, 'B5');
  t.format('[=-6]\\A0;\\B0', -5, '-B5');
  t.format('[>2]\\A0;\\B0', -5, '-B5');
  t.format('[>=2]\\A0;\\B0', -5, '-B5');

  t.format('[<>-6]\\A0;[<>-6]\\B0;\\C0', -5, '-A5');
  t.format('[<>-6]\\A0;[<-4]\\B0;\\C0', -5, '-A5');
  t.format('[<>-6]\\A0;[<=-4]\\B0;\\C0', -5, '-A5');
  t.format('[<>-6]\\A0;[=-5]\\B0;\\C0', -5, '-A5');
  t.format('[<>-6]\\A0;[>-6]\\B0;\\C0', -5, '-A5');
  t.format('[<>-6]\\A0;[>=-6]\\B0;\\C0', -5, '-A5');
  t.format('[<-4]\\A0;[<>-6]\\B0;\\C0', -5, 'A5');
  t.format('[<-4]\\A0;[<-4]\\B0;\\C0', -5, 'A5');
  t.format('[<-4]\\A0;[<=-4]\\B0;\\C0', -5, 'A5');
  t.format('[<-4]\\A0;[=-5]\\B0;\\C0', -5, 'A5');
  t.format('[<-4]\\A0;[>-6]\\B0;\\C0', -5, 'A5');
  t.format('[<-4]\\A0;[>=-6]\\B0;\\C0', -5, 'A5');
  t.format('[<=-4]\\A0;[<>-6]\\B0;\\C0', -5, 'A5');
  t.format('[<=-4]\\A0;[<-4]\\B0;\\C0', -5, 'A5');
  t.format('[<=-4]\\A0;[<=-4]\\B0;\\C0', -5, 'A5');
  t.format('[<=-4]\\A0;[=-5]\\B0;\\C0', -5, 'A5');
  t.format('[<=-4]\\A0;[>-6]\\B0;\\C0', -5, 'A5');
  t.format('[<=-4]\\A0;[>=-6]\\B0;\\C0', -5, 'A5');
  t.format('[=-5]\\A0;[<>-6]\\B0;\\C0', -5, 'A5');
  t.format('[=-5]\\A0;[<-4]\\B0;\\C0', -5, 'A5');
  t.format('[=-5]\\A0;[<=-4]\\B0;\\C0', -5, 'A5');
  t.format('[=-5]\\A0;[=-5]\\B0;\\C0', -5, 'A5');
  t.format('[=-5]\\A0;[>-6]\\B0;\\C0', -5, 'A5');
  t.format('[=-5]\\A0;[>=-6]\\B0;\\C0', -5, 'A5');
  t.format('[>-6]\\A0;[<>-6]\\B0;\\C0', -5, '-A5');
  t.format('[>-6]\\A0;[<-4]\\B0;\\C0', -5, '-A5');
  t.format('[>-6]\\A0;[<=-4]\\B0;\\C0', -5, '-A5');
  t.format('[>-6]\\A0;[=-5]\\B0;\\C0', -5, '-A5');
  t.format('[>-6]\\A0;[>-6]\\B0;\\C0', -5, '-A5');
  t.format('[>-6]\\A0;[>=-6]\\B0;\\C0', -5, '-A5');
  t.format('[>=-6]\\A0;[<>-6]\\B0;\\C0', -5, '-A5');
  t.format('[>=-6]\\A0;[<-4]\\B0;\\C0', -5, '-A5');
  t.format('[>=-6]\\A0;[<=-4]\\B0;\\C0', -5, '-A5');
  t.format('[>=-6]\\A0;[=-5]\\B0;\\C0', -5, '-A5');
  t.format('[>=-6]\\A0;[>-6]\\B0;\\C0', -5, '-A5');
  t.format('[>=-6]\\A0;[>=-6]\\B0;\\C0', -5, '-A5');

  t.format('[<>-5]\\A0;[<>-6]\\B0;\\C0', -5, '-B5');
  t.format('[<>-5]\\A0;[<-4]\\B0;\\C0', -5, 'B5');
  t.format('[<>-5]\\A0;[<=-4]\\B0;\\C0', -5, 'B5');
  t.format('[<>-5]\\A0;[=-5]\\B0;\\C0', -5, 'B5');
  t.format('[<>-5]\\A0;[>-6]\\B0;\\C0', -5, '-B5');
  t.format('[<>-5]\\A0;[>=-6]\\B0;\\C0', -5, '-B5');
  t.format('[<-6]\\A0;[<>-6]\\B0;\\C0', -5, '-B5');
  t.format('[<-6]\\A0;[<-4]\\B0;\\C0', -5, 'B5');
  t.format('[<-6]\\A0;[<=-4]\\B0;\\C0', -5, 'B5');
  t.format('[<-6]\\A0;[=-5]\\B0;\\C0', -5, 'B5');
  t.format('[<-6]\\A0;[>-6]\\B0;\\C0', -5, '-B5');
  t.format('[<-6]\\A0;[>=-6]\\B0;\\C0', -5, '-B5');
  t.format('[<=-6]\\A0;[<>-6]\\B0;\\C0', -5, '-B5');
  t.format('[<=-6]\\A0;[<-4]\\B0;\\C0', -5, 'B5');
  t.format('[<=-6]\\A0;[<=-4]\\B0;\\C0', -5, 'B5');
  t.format('[<=-6]\\A0;[=-5]\\B0;\\C0', -5, 'B5');
  t.format('[<=-6]\\A0;[>-6]\\B0;\\C0', -5, '-B5');
  t.format('[<=-6]\\A0;[>=-6]\\B0;\\C0', -5, '-B5');
  t.format('[=-6]\\A0;[<>-6]\\B0;\\C0', -5, '-B5');
  t.format('[=-6]\\A0;[<-4]\\B0;\\C0', -5, 'B5');
  t.format('[=-6]\\A0;[<=-4]\\B0;\\C0', -5, 'B5');
  t.format('[=-6]\\A0;[=-5]\\B0;\\C0', -5, 'B5');
  t.format('[=-6]\\A0;[>-6]\\B0;\\C0', -5, '-B5');
  t.format('[=-6]\\A0;[>=-6]\\B0;\\C0', -5, '-B5');
  t.format('[>2]\\A0;[<>-6]\\B0;\\C0', -5, '-B5');
  t.format('[>2]\\A0;[<-4]\\B0;\\C0', -5, 'B5');
  t.format('[>2]\\A0;[<=-4]\\B0;\\C0', -5, 'B5');
  t.format('[>2]\\A0;[=-5]\\B0;\\C0', -5, 'B5');
  t.format('[>2]\\A0;[>-6]\\B0;\\C0', -5, '-B5');
  t.format('[>2]\\A0;[>=-6]\\B0;\\C0', -5, '-B5');
  t.format('[>=2]\\A0;[<>-6]\\B0;\\C0', -5, '-B5');
  t.format('[>=2]\\A0;[<-4]\\B0;\\C0', -5, 'B5');
  t.format('[>=2]\\A0;[<=-4]\\B0;\\C0', -5, 'B5');
  t.format('[>=2]\\A0;[=-5]\\B0;\\C0', -5, 'B5');
  t.format('[>=2]\\A0;[>-6]\\B0;\\C0', -5, '-B5');
  t.format('[>=2]\\A0;[>=-6]\\B0;\\C0', -5, '-B5');

  t.format('[<>-5]\\A0;[<>-5]\\B0;\\C0', -5, '-C5');
  t.format('[<>-5]\\A0;[<-6]\\B0;\\C0', -5, '-C5');
  t.format('[<>-5]\\A0;[<=-6]\\B0;\\C0', -5, '-C5');
  t.format('[<>-5]\\A0;[=-6]\\B0;\\C0', -5, '-C5');
  t.format('[<>-5]\\A0;[>2]\\B0;\\C0', -5, '-C5');
  t.format('[<>-5]\\A0;[>=2]\\B0;\\C0', -5, '-C5');
  t.format('[<-6]\\A0;[<>-5]\\B0;\\C0', -5, '-C5');
  t.format('[<-6]\\A0;[<-6]\\B0;\\C0', -5, '-C5');
  t.format('[<-6]\\A0;[<=-6]\\B0;\\C0', -5, '-C5');
  t.format('[<-6]\\A0;[=-6]\\B0;\\C0', -5, '-C5');
  t.format('[<-6]\\A0;[>2]\\B0;\\C0', -5, '-C5');
  t.format('[<-6]\\A0;[>=2]\\B0;\\C0', -5, '-C5');
  t.format('[<=-6]\\A0;[<>-5]\\B0;\\C0', -5, '-C5');
  t.format('[<=-6]\\A0;[<-6]\\B0;\\C0', -5, '-C5');
  t.format('[<=-6]\\A0;[<=-6]\\B0;\\C0', -5, '-C5');
  t.format('[<=-6]\\A0;[=-6]\\B0;\\C0', -5, '-C5');
  t.format('[<=-6]\\A0;[>2]\\B0;\\C0', -5, '-C5');
  t.format('[<=-6]\\A0;[>=2]\\B0;\\C0', -5, '-C5');
  t.format('[=-6]\\A0;[<>-5]\\B0;\\C0', -5, '-C5');
  t.format('[=-6]\\A0;[<-6]\\B0;\\C0', -5, '-C5');
  t.format('[=-6]\\A0;[<=-6]\\B0;\\C0', -5, '-C5');
  t.format('[=-6]\\A0;[=-6]\\B0;\\C0', -5, '-C5');
  t.format('[=-6]\\A0;[>2]\\B0;\\C0', -5, '-C5');
  t.format('[=-6]\\A0;[>=2]\\B0;\\C0', -5, '-C5');
  t.format('[>2]\\A0;[<>-5]\\B0;\\C0', -5, '-C5');
  t.format('[>2]\\A0;[<-6]\\B0;\\C0', -5, '-C5');
  t.format('[>2]\\A0;[<=-6]\\B0;\\C0', -5, '-C5');
  t.format('[>2]\\A0;[=-6]\\B0;\\C0', -5, '-C5');
  t.format('[>2]\\A0;[>2]\\B0;\\C0', -5, '-C5');
  t.format('[>2]\\A0;[>=2]\\B0;\\C0', -5, '-C5');
  t.format('[>=2]\\A0;[<>-5]\\B0;\\C0', -5, '-C5');
  t.format('[>=2]\\A0;[<-6]\\B0;\\C0', -5, '-C5');
  t.format('[>=2]\\A0;[<=-6]\\B0;\\C0', -5, '-C5');
  t.format('[>=2]\\A0;[=-6]\\B0;\\C0', -5, '-C5');
  t.format('[>=2]\\A0;[>2]\\B0;\\C0', -5, '-C5');
  t.format('[>=2]\\A0;[>=2]\\B0;\\C0', -5, '-C5');

  t.end();
});
